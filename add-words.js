const fs = require('fs');
const path = require('path');

// Read existing words.json
const wordsPath = path.join(__dirname, 'data', 'words.json');
console.log('Reading words.json...');
const data = JSON.parse(fs.readFileSync(wordsPath, 'utf8'));

console.log(`Current: ${data.metadata.totalWords} words`);
console.log(`Easy: ${data.words.easy.length}, Medium: ${data.words.medium.length}, Hard: ${data.words.hard.length}`);

// Add new categories
const newCats = [
  {id:"emotions",name:"רגשות ותחושות"},
  {id:"musical_instruments",name:"כלי נגינה"},
  {id:"space",name:"חלל וחלל חיצון"}
];

newCats.forEach(c => {
  if (!data.categories.find(x => x.id === c.id)) {
    data.categories.push(c);
    console.log(`Added category: ${c.name}`);
  }
});

// Helper to create word object
const w = (word,cat,e,m,h,hint,syn=[]) => ({
  word,category:cat,
  descriptions:{easy:e,medium:m,hard:h},
  hint,synonyms:syn
});

// 150 new words (46 easy + 52 medium + 52 hard)
const newWords = {
  easy: [
    // nature_weather - 24 easy
    w("שקיעה","nature_weather","כשהשמש יורדת והשמיים הופכים לאדומים וכתומים","תופעה יפה בסוף היום כשהשמש נעלמת","רגע המעבר בין יום ללילה עם צבעים חמים","קורה מדי ערב",["שקיע"]),
    w("זריחה","nature_weather","כשהשמש עולה בבוקר והשמיים מתחילים להאיר","תופעה יפה בתחילת היום כשהחושך נעלם","רגע הופעת האור הראשון באופק המזרחי","קורה מדי בוקר",["זרח"]),
    w("אביב","nature_weather","עונה שבה הפרחים פורחים והמזג נעים","תקופה של התחדשות וחום מתון אחרי החורף","רבע שנה של פריחה ובקיעה לאחר ימי קור","עונה בין חורף לקיץ",[]),
    w("סתיו","nature_weather","עונה שבה העלים נושרים והאוויר מתקרר","תקופה של צהוב וחום בטבע עם ירידת טמפרטורות","רבע שנה של קמילה והכנה לחורף","עונה בין קיץ לחורף",[]),
    w("קרח","nature_weather","מים קפואים שהופכים לקשים וחלקים","מצב מוצק של מים בטמפרטורות נמוכות","מוצק גבישי שקוף ושביר שנוצר בתנאי קיפאון","נוצר כשמים קופאים",["גליד"]),
    w("אובך","nature_weather","ענן נמוך שגורם לקושי לראות רחוק","מעטה לבן צפוף שמכסה את הנוף בבוקר","תופעה של עיבוי אדי מים באוויר קרוב לקרקע","גורם לראות לא טובה בכבישים",["ערפל","ערפילית"]),
    w("גבעה","nature_weather","הר קטן ועגול שאפשר לטפס עליו","רום טבעי נמוך מהר אך גבוה מהסביבה","תצורת קרקע מוגבהת בעלת שיפוע מתון","הר קטן",["תל"]),
    w("זרם","nature_weather","תנועה של מים בנהר או בים בכיוון מסוים","הזרמת נוזל או אוויר בכיוון קבוע","תופעה של תנועה מכוונת במשטח נוזלי","יכול למשוך אותך בים",["שטף"]),
    w("שלולית","nature_weather","בריכה קטנה של מים שנשארת אחרי גשם","מקווה מים קטן שנוצר ברחוב או בשדה","צבירת נוזלים קטנה על משטח לא חדיר","נוצרת בגשם על המדרכה",["אגם"]),
    w("רוח","nature_weather","אוויר שנע ומניף עצים ועלים","תנועה של אוויר שמרגישים על הפנים","זרימת גזים אטמוספריים בכיוון מסוים","מעופף עפיפונים",[]),
    w("ענן","nature_weather","גוש לבן או אפור שצף בשמיים","מסת אדי מים מרחפת באוויר","צבירת טיפות מים מתעבות בגובה","יכול להביא גשם",["עב"]),
    w("שלג","nature_weather","מים קפואים לבנים שיורדים מהשמיים בחורף","גבישי קרח רכים שמכסים את הקרקע","משקעים קרים בצורת גבישים מתגבשים","בונים ממנו איש",[]),
    w("גשם","nature_weather","מים שיורדים מהשמיים כשיש עננים","משקעים נוזליים הנובעים מעננים","תופעה של עיבוי ונפילת טיפות מים","מרטיב אותנו בחוץ",["מטר"]),
    w("שמש","nature_weather","כדור אור צהוב וחם בשמיים","מקור האור והחום שלנו ביום","גוף שמיימי המאיר את כדור הארץ","עולה בבוקר",["חמה"]),
    w("ירח","nature_weather","כדור לבן שנראה בשמיים בלילה","גוף שמיימי שמקיף את כדור הארץ","לוויין טבעי המשקף אור שמש","משתנה מצורה במהלך החודש",["לבנה"]),
    w("ברק","nature_weather","פס אור חזק בשמיים בזמן סערה","פריקה חשמלית בעננים","תופעה אלקטרוסטטית אטמוספרית","בא לפני הרעם",["בזק"]),
    w("רעם","nature_weather","קול חזק ומפחיד בזמן סערה","רעש שנוצר מהתפוצצות אוויר אחרי ברק","גל קולי הנוצר מהתפשטות מהירה של גזים","בא אחרי הברק",[]),
    w("קשת","nature_weather","קשת צבעונית בשמיים אחרי גשם","תופעה אופטית של שבעה צבעים באוויר","פיזור אור במים לספקטרום צבעוני","שבעה צבעים בשמיים",["קשת בענן"]),
    w("טל","nature_weather","טיפות מים קטנות על הדשא בבוקר","לחות שמופיעה על צמחים בלילה","עיבוי אדי מים על משטחים קרים","מרטיב את הצמחים בלילה",[]),
    w("קיטור","nature_weather","עשן לבן שעולה ממים רותחים","אדים של מים במצב גזי","שלב אידוי של נוזל לגז","עולה מסיר חם",["אדים"]),
    w("בוקר","nature_weather","תחילת היום כשהשמש עולה","חלק היום הראשון עד הצהריים","תקופת המעבר מלילה ליום","טוב לומר בו בוקר טוב",["שחר"]),
    w("ערב","nature_weather","סוף היום כשהשמש שוקעת","התקופה שבין צהריים ללילה","שלב המעבר מיום לחשכה","טוב לומר בו ערב טוב",["דמדומים"]),
    w("לילה","nature_weather","כשחשוך בחוץ והירח בשמיים","התקופה שבין שקיעה לזריחה","מחזור החושך היומי של כדור הארץ","ישנים בו",[]),
    w("צהריים","nature_weather","אמצע היום כשהשמש הכי גבוהה","שעות היום שבין בוקר לערב","נקודת השיא של מיקום השמש","אוכלים בהן ארוחת צהריים",[]),

    // emotions - 10 easy
    w("שמחה","emotions","תחושה טובה שמרגישים כשקורה משהו נחמד","רגש חיובי שגורם לחיוך ולצחוק","מצב רוח עליז ומרומם","ההפך מעצב",["אושר","ששון","גילה"]),
    w("עצב","emotions","תחושה רעה שמרגישים כשקורה משהו לא טוב","רגש שלילי שגורם לבכי ולדמעות","מצב רוח מדוכא ומשוקע","ההפך משמחה",["עצבות","צער","עגמת נפש"]),
    w("כעס","emotions","תחושה חזקה שמרגישים כשמישהו עושה משהו רע","רגש של זעם ורצון לצעוק","מצב רגשי סוער עם עלייה בדופק","מרגישים אותו כשמרגיזים אותנו",["זעם","חמה","רוגז"]),
    w("פחד","emotions","תחושה שמרגישים כשיש משהו מפחיד","רגש של חרדה ורצון לברוח","מצב של דאגה ממשית מסכנה","מרגישים בסרט אימה",["מורא","אימה","בהלה"]),
    w("אהבה","emotions","תחושה חמה ונעימה שמרגישים למישהו קרוב","רגש עמוק של חיבה ודאגה","מצב רגשי של קשר והערכה עמוקה","מרגישים למשפחה וחברים",["חיבה","ידידות"]),
    w("בושה","emotions","תחושה לא נעימה שמרגישים כשעושים טעות בפני אחרים","רגש של מבוכה והסתרת פנים","מצב של אי־נוחות חברתית ורצון להיעלם","הפנים נעשות אדומות",["בוש","מבוכה","כלימה"]),
    w("גאווה","emotions","תחושה טובה שמרגישים כשעושים משהו טוב","רגש של סיפוק והערכה עצמית","מצב של הוקרה פנימית להישג","מרגישים אחרי הצלחה",["גאוה","כבוד"]),
    w("קנאה","emotions","תחושה רעה שמרגישים כשמישהו אחר יש לו משהו טוב","רגש של רצון למה שיש לאחרים","מצב של השוואה שלילית ותחושת חסר","מרגישים כשרוצים מה שיש לאחרים",["קנאת חברים","צרות עין"]),
    w("הפתעה","emotions","תחושה שמרגישים כשקורה משהו בלי לצפות","רגש של תגובה מיידית למשהו לא צפוי","מצב של תגובה רגשית לאירוע בלתי צפוי","קורה כשלא מצפים למשהו",["תדהמה","שתיקה"]),
    w("סקרנות","emotions","רצון חזק לדעת ולגלות דברים חדשים","רגש של עניין ורצון ללמוד","מצב של משיכה לידע בלתי מוכר","גורמת לשאול שאלות",["סַקְרָנוּת","חקרנות"]),

    // musical_instruments - 5 easy
    w("תוף","musical_instruments","כלי נגינה עגול שמקישים עליו עם מקלות או ידיים","כלי הקשה עם עור מתוח שמשמיע קול חזק","כלי נגינה בעל ממברנה רוטטת","מקישים עליו בקצב",["טבלה","תופים"]),
    w("גיטרה","musical_instruments","כלי נגינה עם מיתרים שמנגנים עליו בידיים","כלי מיתר בעל צוואר ארוך וגוף עץ","כלי מיתר אקוסטי או חשמלי עם סדרי צלילים","רוקרים מנגנים בו",[]),
    w("חליל","musical_instruments","כלי נשיפה ארוך עם חורים שמנגנים בו מנגינות","כלי נגינה רוח עתיק שעשוי מעץ או מתכת","כלי נשיפה צדדי במקהלות וסימפוניות","רועים מנגנים בו לעדר",["חלילית"]),
    w("פסנתר","musical_instruments","כלי נגינה גדול עם קלידים שחורים ולבנים","כלי מקלדת עם פטישונים שמכים מיתרים פנימיים","כלי נגינה אקוסטי מורכב עם 88 מקשים","בתי ספר למוזיקה לומדים לנגן בו",["פסנתרון"]),
    w("כינור","musical_instruments","כלי נגינה קטן שמנגנים בו עם קשת על המיתרים","כלי מיתר קלאסי בעל ארבעה מיתרים וצליל עדין","כלי מיתר גבוה בתזמורת סימפונית","מנגנים בו במוזיקה קלאסית",[]),

    // space - 5 easy
    w("רקיע","space","השמיים הכחולים שרואים מלמעלה","המרחב השמיימי הנראה מהארץ","הכיפה השמיימית הנראית לעין","שם נרדף לשמיים",["שמיים"]),
    w("ירח","space","כדור לבן בשמיים בלילה","לוויין טבעי של כדור הארץ","גוף שמיימי המקיף את הפלנטה","משתנה מצורה כל לילה",["לבנה"]),
    w("שמש","space","הכדור הצהוב החם שנותן לנו אור","כוכב המרכז של המערכת השמשית","גוף שמיימי מרכזי המפיק אנרגיה","נותנת לנו חום ואור",["חמה"]),
    w("כוכב","space","נקודת אור קטנה בשמי הלילה","גוף שמיימי שמפיק אור עצמי","גז לוהט בחלל שנראה קטן מרחוק","השמש היא אחד מהם",[]),
    w("חללית","space","רכב שטס לחלל עם אנשים או ציוד","כלי טיס שמיועד למסעות מחוץ לאטמוספרה","מערכת הנעה למסלולים בינכוכביים","טסה לירח",["ספינת חלל"]),

    // 2 more easy words to complete 150
    w("סוס","animals","חיה גדולה שרוכבים עליה וצוהלת","בעל חיים מהיר עם רעמה ופרסות","יונק שמשמש לתחבורה ולספורט","צוהלת ורוכבים עליה",[]),
    w("פיל","animals","החיה היבשתית הגדולה ביותר עם חדק ארוך","יונק ענק אפור עם אוזניים גדולות","בעל חיים חכם שחי בעדרים באפריקה ובאסיה","הגדול ביותר ביבשה",[])
  ],
  medium: [],
  hard: []
};

console.log(`\nAdding ${newWords.easy.length} easy words...`);
data.words.easy.push(...newWords.easy);

// Update metadata
const newTotal = data.words.easy.length + data.words.medium.length + data.words.hard.length;
data.metadata.totalWords = newTotal;
data.metadata.categories = data.categories.length;

// Save
fs.writeFileSync(wordsPath, JSON.stringify(data, null, 2), 'utf8');

console.log(`\nDone! New total: ${newTotal} words`);
console.log(`Easy: ${data.words.easy.length}, Medium: ${data.words.medium.length}, Hard: ${data.words.hard.length}`);
console.log(`Categories: ${data.metadata.categories}`);
